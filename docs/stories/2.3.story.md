---
title: Academic Management - Gradebook & Grading System
status: Draft
epic: 2
story: 3
---

# User Story: As a Teacher, I want to manage a gradebook for my classes, so that I can track student performance effectively. As a Tenant Admin, I want to configure the grading system for my school.

## Acceptance Criteria:
- The system shall allow a Tenant Admin to define and customize grading scales (e.g., letter grades, percentages, points) for the school.
- The system shall allow a Tenant Admin to define weighted categories for assessments (e.g., homework 20%, quizzes 30%, exams 50%).
- The system shall allow a Teacher to create assignments and exams within the gradebook.
- The system shall allow a Teacher to enter grades for assignments and exams for each student.
- The system shall automatically calculate the overall grade for each student based on the configured weights and scales.
- The system shall allow students and parents to view their grades and progress.
- The system shall ensure that all gradebook and grading system data is isolated by tenant.
- **The system shall provide dedicated gradebook and grading management panels for each user role with appropriate functionality and restrictions.**
- **Students shall only view their own grades and cannot access gradebook management or other students' grades.**
- **Teachers shall manage gradebooks for their assigned classes and enter grades for their students only.**
- **Tenant Admins shall have full access to grading system configuration, gradebook management, and comprehensive grading reports.**
- **Super Admins shall have system-wide view access to grading trends and compliance across all tenants.**

## Examples:
- **Weighted Category Example:** A Tenant Admin sets up a grading system where for the "Math" course, "Homework" is weighted at 20%, "Quizzes" at 30%, and the "Final Exam" at 50%. A student with scores of 90 in Homework, 80 in Quizzes, and 70 in the Final Exam would have a calculated overall grade of (0.20 * 90) + (0.30 * 80) + (0.50 * 70) = 18 + 24 + 35 = 77.
- **Grade Scale Example:** The Tenant Admin defines 'A' as 90-100, 'B' as 80-89, etc. A student with a calculated score of 77 would receive a 'C' grade.

## Potential Obstacles:
- **Complex Calculation Logic:** The grade calculation engine needs to be robust and flexible enough to handle various weighting schemes and custom formulas that different schools might use. This includes handling missing grades, extra credit, and different scales for different subjects.
- **Real-time Grade Updates:** Ensuring that grade calculations are updated in real-time as teachers enter scores, and that these updates are immediately reflected to students and parents, can be challenging from a performance perspective, especially with large classes.
- **Data Integrity and Security:** Grade data is highly sensitive. Ensuring data integrity (e.g., preventing accidental or malicious changes) and providing a secure audit trail for all grade modifications is critical.

## Dev Notes:

### Previous Story Insights:
- User & Role Management (Story 1.1) is crucial for ensuring that only authorized teachers can enter grades and only the correct students/parents can view them.
- Course & Subject Management (Story 2.1) provides the context for which gradebooks are created.

### Data Models:
- **GradingScales Table:** To store tenant-defined grading scales.
- **GradebookCategories Table:** To store weighted categories for assessments (e.g., Homework, Quizzes, Exams) per course.
- **Assignments Table:** To store details of assignments and exams.
- **Grades Table:** To store student grades for each assignment.
- **CalculatedGrades Table:** To store the calculated overall grades for each student in each course.

## Role-Based Gradebook & Grading Access Control:

### Super Admin:
- **Access Level**: System-wide read access to grading data across all tenants
- **Permissions**: 
  - View grading trends and patterns across all schools
  - Access system-wide grading reports and analytics
  - Monitor grading compliance and policies across tenants
- **Restrictions**: Cannot configure grading systems or enter grades (delegated to tenant admins)

### Tenant Admin:
- **Access Level**: Full CRUD access within their tenant
- **Permissions**:
  - Configure grading scales and weighted categories
  - Manage gradebook policies and calculation rules
  - View all grades and generate comprehensive reports
  - Override grades when necessary
  - Access all student grade information
- **Restrictions**: Cannot access other tenants' grading data

### Teacher:
- **Access Level**: Manage gradebooks for assigned classes, enter grades for assigned students
- **Permissions**:
  - Create assignments and exams for assigned classes
  - Enter grades for their students
  - View grade history for their students
  - Access teacher-specific grade reports
- **Restrictions**: Cannot configure grading systems, view other teachers' students' grades, or access administrative functions

### Student:
- **Access Level**: Read-only access to own grades
- **Permissions**:
  - View own grades and progress
  - Access personal grade reports
  - View assignment details and due dates
- **Restrictions**: Cannot access gradebook management, other students' grades, or administrative functions

## Tasks / Subtasks:
- [x] Task 1 (AC: 1, 2): Implement the interface for Tenant Admins to configure grading scales and weighted categories.
- [x] Task 2 (AC: 3, 4): Implement the interface for Teachers to create assignments and enter grades.
- [x] Task 3 (AC: 5): Develop the grade calculation engine to handle weighted averages and scale conversions.
- [x] Task 4 (AC: 6): Create read-only views for students and parents to see their grades.
- [x] Task 5 (AC: 7): Ensure strict tenant isolation for all grading data.
- [ ] Task 6 (AC: 8): Implement role-based access control for gradebook management APIs.
- [ ] Task 7 (AC: 9): Create role-specific gradebook dashboard components.
- [ ] Task 8 (AC: 10): Implement comprehensive grade data filtering based on user roles.
- [ ] Task 9 (Security): Implement audit trails for all grade entries and modifications.
