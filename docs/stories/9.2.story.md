---
title: Content Management - Public Website
status: Draft
epic: 9
story: 2
---

# User Story: As a Tenant Admin, I want to manage a simple, public-facing website for my school, so that I can provide information to prospective parents and the community.

## Acceptance Criteria:
- Each tenant shall have a unique, publicly accessible website, potentially under a subdomain (e.g., `evergreen.shulesoft.com`) or a custom domain.
- The system shall provide a simple interface for a Tenant Admin to manage the content of their school's public website.
- The website shall include standard pages like "Home", "About Us", "Academics", "News", and "Contact Us".
- The content for the "News" page shall be automatically populated from the school's public announcements.
- The "Contact Us" page shall include a contact form that sends inquiries to the Tenant Admin's email address.
- The design of the public websites should be professional, clean, and mobile-responsive, with options for the Tenant Admin to customize basic branding (e.g., logo, primary color).
- **The system shall provide dedicated public website management panels for each user role with appropriate functionality and restrictions.**
- **Students and Teachers shall have no access to public website management or configuration.**
- **Tenant Admins shall have full access to public website management, including content editing, branding customization, and domain configuration.**
- **Super Admins shall have system-wide view access to public website usage and compliance across all tenants.**

## Examples:
- **Website Content Update:** The Tenant Admin for 'Evergreen Academy' logs into their dashboard, navigates to the 'Public Website' section, and updates the 'About Us' page with a new mission statement. They save the changes, and the public website is immediately updated.
- **News on Website:** The admin posts a new public announcement titled "Annual Sports Day on Friday". This announcement automatically appears as a new post on the `evergreen.shulesoft.com/news` page.

## Potential Obstacles:
- **Custom Domain Configuration:** Managing custom domains for each tenant can be complex, involving DNS settings (CNAME records) and SSL certificate provisioning for each domain.
- **Content Security:** The content management system for the public site must still be secure, preventing any possibility of cross-site scripting (XSS) or other injection attacks, even on these public-facing pages.
- **Theming and Customization:** Providing enough customization to satisfy different schools' branding needs without making the system overly complex is a balancing act. A simple, clean template with basic color and logo options is a good starting point.

## Dev Notes:

### Previous Story Insights:
- This feature leverages the content from the Content Management (Story 9.1), especially for the 'News' page.
- It provides a public outlet for the information managed within the school's private portal.

### Data Models:
- **WebsiteSettings Table:** To store tenant-specific website configurations, such as the school's logo, custom domain, and chosen color theme.
- **WebsitePages Table:** To store the content for custom pages like 'About Us' and 'Academics'.

## Role-Based Public Website Management Access Control:

### Super Admin:
- **Access Level**: System-wide read access to public website data across all tenants
- **Permissions**: 
  - View public website usage trends and patterns across all schools
  - Access system-wide public website reports and analytics
  - Monitor public website compliance and policies across tenants
- **Restrictions**: Cannot manage public website content or configure domains (delegated to tenant admins)

### Tenant Admin:
- **Access Level**: Full CRUD access within their tenant
- **Permissions**:
  - Manage all public website content and pages
  - Configure website branding and customization
  - Manage domain configuration and SSL certificates
  - Control which announcements appear on public website
  - Manage contact form settings and notifications
- **Restrictions**: Cannot access other tenants' public website data

### Teacher:
- **Access Level**: No access to public website management
- **Permissions**: None related to public website management
- **Restrictions**: Cannot access any public website configuration or content management

### Student:
- **Access Level**: No access to public website management
- **Permissions**: None related to public website management
- **Restrictions**: Cannot access any public website configuration or content management

## Tasks / Subtasks:
- [x] Task 1 (AC: 1, 2): Implement the back-end and front-end for managing public website content.
- [x] Task 2 (AC: 3, 6): Create the default pages ('Home', 'About Us', 'Academics', 'News', 'Contact Us') and a simple, clean, and responsive theme.
- [x] Task 3 (AC: 4): Integrate the public announcements with the 'News' page.
- [x] Task 4 (AC: 5): Build the 'Contact Us' form and the email notification functionality.
- [ ] Task 5 (AC: 7): Implement role-based access control for public website management APIs.
- [ ] Task 6 (AC: 8): Create role-specific public website management dashboard components.
- [ ] Task 7 (AC: 9): Implement comprehensive public website data filtering based on user roles.
- [ ] Task 8 (Future): Investigate and plan the implementation for custom domain support and automated SSL provisioning.
- [ ] Task 9 (Security): Ensure all user-provided content for the public website is properly sanitized.
