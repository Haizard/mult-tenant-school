# ğŸ—ï¸ SYSTEM ARCHITECTURE OVERVIEW

## Technology Stack

```
Frontend:
â”œâ”€ Next.js 15 (React 19)
â”œâ”€ Tailwind CSS
â”œâ”€ Radix UI Components
â””â”€ Framer Motion (Animations)

Backend:
â”œâ”€ Express.js
â”œâ”€ TypeScript
â”œâ”€ Prisma ORM
â””â”€ JWT Authentication

Database:
â”œâ”€ SQLite (Development)
â””â”€ PostgreSQL (Production-ready)

Deployment:
â””â”€ Render.com
```

---

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLIENT LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Student    â”‚  â”‚   Teacher    â”‚  â”‚   Parent     â”‚       â”‚
â”‚  â”‚   Portal     â”‚  â”‚   Dashboard  â”‚  â”‚   Portal     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API GATEWAY LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Authentication Middleware (JWT)                    â”‚    â”‚
â”‚  â”‚  Authorization Middleware (RBAC)                    â”‚    â”‚
â”‚  â”‚  Tenant Isolation Middleware                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BUSINESS LOGIC LAYER                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Student     â”‚  â”‚  Teacher     â”‚  â”‚  Parent      â”‚       â”‚
â”‚  â”‚  Controller  â”‚  â”‚  Controller  â”‚  â”‚  Controller  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Library     â”‚  â”‚  Academic    â”‚  â”‚  Finance     â”‚       â”‚
â”‚  â”‚  Controller  â”‚  â”‚  Controller  â”‚  â”‚  Controller  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA ACCESS LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Prisma ORM (Query Builder & Validation)            â”‚    â”‚
â”‚  â”‚  â”œâ”€ Multi-tenant filtering                          â”‚    â”‚
â”‚  â”‚  â”œâ”€ Relationship management                         â”‚    â”‚
â”‚  â”‚  â””â”€ Transaction support                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PostgreSQL / SQLite                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ Tenant Table (Root)                             â”‚    â”‚
â”‚  â”‚  â”œâ”€ User & Role Tables                              â”‚    â”‚
â”‚  â”‚  â”œâ”€ Student, Teacher, Parent Tables                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ Academic Tables (Grades, Attendance, etc.)      â”‚    â”‚
â”‚  â”‚  â”œâ”€ Library Tables (Books, Circulation, etc.)       â”‚    â”‚
â”‚  â”‚  â”œâ”€ Finance Tables (Fees, Payments, etc.)           â”‚    â”‚
â”‚  â”‚  â””â”€ Support Tables (Health, Documents, etc.)        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Multi-Tenant Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SYSTEM LEVEL                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Super Admin (System-wide access)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TENANT LEVEL                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tenant 1 (School A)                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ Tenant Admin                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ Teachers (isolated to Tenant 1)                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Students (isolated to Tenant 1)                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Parents (isolated to Tenant 1)                   â”‚   â”‚
â”‚  â”‚  â””â”€ All data filtered by tenantId                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tenant 2 (School B)                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ Tenant Admin                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ Teachers (isolated to Tenant 2)                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Students (isolated to Tenant 2)                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Parents (isolated to Tenant 2)                   â”‚   â”‚
â”‚  â”‚  â””â”€ All data filtered by tenantId                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Model Relationships

```
TENANT (Root)
â”œâ”€ USER (1:1 with Tenant)
â”‚  â”œâ”€ STUDENT (1:1 with User)
â”‚  â”‚  â”œâ”€ ATTENDANCE (1:N)
â”‚  â”‚  â”œâ”€ GRADES (1:N)
â”‚  â”‚  â”œâ”€ ACADEMIC_RECORD (1:N)
â”‚  â”‚  â”œâ”€ ENROLLMENT (1:N)
â”‚  â”‚  â”œâ”€ FEE_ASSIGNMENT (1:N)
â”‚  â”‚  â”œâ”€ PAYMENT (1:N)
â”‚  â”‚  â”œâ”€ HEALTH_RECORD (1:N)
â”‚  â”‚  â”œâ”€ LEAVE_REQUEST (1:N)
â”‚  â”‚  â””â”€ PARENT_STUDENT_RELATION (1:N)
â”‚  â”‚
â”‚  â”œâ”€ TEACHER (1:1 with User)
â”‚  â”‚  â”œâ”€ TEACHER_SUBJECT (1:N)
â”‚  â”‚  â”œâ”€ TEACHER_CLASS (1:N)
â”‚  â”‚  â”œâ”€ TEACHER_ATTENDANCE (1:N)
â”‚  â”‚  â”œâ”€ TEACHER_EVALUATION (1:N)
â”‚  â”‚  â””â”€ TEACHER_TRAINING (1:N)
â”‚  â”‚
â”‚  â”œâ”€ PARENT (1:1 with User)
â”‚  â”‚  â””â”€ PARENT_STUDENT_RELATION (1:N)
â”‚  â”‚
â”‚  â””â”€ STAFF (1:1 with User)
â”‚
â”œâ”€ ACADEMIC_YEAR (1:N)
â”‚  â”œâ”€ CLASS (1:N)
â”‚  â”‚  â”œâ”€ TEACHER_CLASS (1:N)
â”‚  â”‚  â”œâ”€ STUDENT_ENROLLMENT (1:N)
â”‚  â”‚  â””â”€ SCHEDULE (1:N)
â”‚  â”‚
â”‚  â”œâ”€ SUBJECT (1:N)
â”‚  â”‚  â”œâ”€ TEACHER_SUBJECT (1:N)
â”‚  â”‚  â”œâ”€ COURSE (1:N)
â”‚  â”‚  â””â”€ GRADE (1:N)
â”‚  â”‚
â”‚  â””â”€ EXAMINATION (1:N)
â”‚     â””â”€ GRADE (1:N)
â”‚
â”œâ”€ LIBRARY (1:N)
â”‚  â”œâ”€ BOOK (1:N)
â”‚  â”‚  â”œâ”€ BOOK_CIRCULATION (1:N)
â”‚  â”‚  â””â”€ BOOK_RESERVATION (1:N)
â”‚  â”‚
â”‚  â”œâ”€ LIBRARY_USER (1:N)
â”‚  â”œâ”€ LIBRARY_FINE (1:N)
â”‚  â””â”€ LIBRARY_REPORT (1:N)
â”‚
â”œâ”€ FINANCE (1:N)
â”‚  â”œâ”€ FEE (1:N)
â”‚  â”œâ”€ FEE_ASSIGNMENT (1:N)
â”‚  â”œâ”€ PAYMENT (1:N)
â”‚  â”œâ”€ INVOICE (1:N)
â”‚  â”œâ”€ EXPENSE (1:N)
â”‚  â”œâ”€ BUDGET (1:N)
â”‚  â””â”€ FINANCIAL_REPORT (1:N)
â”‚
â””â”€ SUPPORT (1:N)
   â”œâ”€ HOSTEL (1:N)
   â”œâ”€ TRANSPORT (1:N)
   â”œâ”€ ANNOUNCEMENT (1:N)
   â”œâ”€ NOTIFICATION (1:N)
   â””â”€ AUDIT_LOG (1:N)
```

---

## API Route Structure

```
/api
â”œâ”€ /auth
â”‚  â”œâ”€ POST /login
â”‚  â”œâ”€ POST /register
â”‚  â””â”€ POST /logout
â”‚
â”œâ”€ /students
â”‚  â”œâ”€ GET / (list all)
â”‚  â”œâ”€ POST / (create)
â”‚  â”œâ”€ GET /:id (get one)
â”‚  â”œâ”€ PUT /:id (update)
â”‚  â”œâ”€ DELETE /:id (delete)
â”‚  â””â”€ POST /:id/enroll (enroll in class)
â”‚
â”œâ”€ /teachers
â”‚  â”œâ”€ GET / (list all)
â”‚  â”œâ”€ POST / (create)
â”‚  â”œâ”€ GET /:id (get one)
â”‚  â”œâ”€ PUT /:id (update)
â”‚  â””â”€ DELETE /:id (delete)
â”‚
â”œâ”€ /parents
â”‚  â”œâ”€ GET / (list all)
â”‚  â”œâ”€ POST / (create)
â”‚  â”œâ”€ GET /:id (get one)
â”‚  â”œâ”€ PUT /:id (update)
â”‚  â”œâ”€ DELETE /:id (delete)
â”‚  â”œâ”€ POST /:id/relations (link to student)
â”‚  â”œâ”€ GET /:id/children/:studentId/academic-records âœ…
â”‚  â”œâ”€ GET /:id/children/:studentId/attendance âœ…
â”‚  â”œâ”€ GET /:id/children/:studentId/grades âš ï¸ (NOT IMPLEMENTED)
â”‚  â””â”€ GET /:id/children/:studentId/schedule âš ï¸ (NOT IMPLEMENTED)
â”‚
â”œâ”€ /library
â”‚  â”œâ”€ GET /books (list books)
â”‚  â”œâ”€ POST /books (add book)
â”‚  â”œâ”€ POST /circulation/issue (issue book)
â”‚  â”œâ”€ POST /circulation/return (return book)
â”‚  â”œâ”€ POST /reservations (reserve book)
â”‚  â””â”€ GET /stats (library statistics)
â”‚
â”œâ”€ /academic
â”‚  â”œâ”€ GET /grades (list grades)
â”‚  â”œâ”€ POST /grades (create grade)
â”‚  â”œâ”€ GET /attendance (list attendance)
â”‚  â”œâ”€ POST /attendance (mark attendance)
â”‚  â””â”€ GET /records (academic records)
â”‚
â”œâ”€ /finance
â”‚  â”œâ”€ GET /fees (list fees)
â”‚  â”œâ”€ POST /fees (create fee)
â”‚  â”œâ”€ GET /payments (list payments)
â”‚  â”œâ”€ POST /payments (record payment)
â”‚  â””â”€ GET /invoices (list invoices)
â”‚
â””â”€ /admin
   â”œâ”€ GET /users (list all users)
   â”œâ”€ GET /roles (list roles)
   â”œâ”€ POST /roles (create role)
   â””â”€ GET /audit-logs (view audit logs)
```

---

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 1: AUTHENTICATION                                    â”‚
â”‚  â”œâ”€ JWT Token Validation                                    â”‚
â”‚  â”œâ”€ Token Expiration Check                                  â”‚
â”‚  â””â”€ User Identity Verification                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 2: AUTHORIZATION (RBAC)                              â”‚
â”‚  â”œâ”€ Role Verification                                       â”‚
â”‚  â”œâ”€ Permission Checking                                     â”‚
â”‚  â””â”€ Resource Access Control                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 3: TENANT ISOLATION                                  â”‚
â”‚  â”œâ”€ Tenant ID Validation                                    â”‚
â”‚  â”œâ”€ Data Filtering by Tenant                                â”‚
â”‚  â””â”€ Cross-Tenant Access Prevention                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 4: DATA VALIDATION                                   â”‚
â”‚  â”œâ”€ Input Sanitization                                      â”‚
â”‚  â”œâ”€ Schema Validation                                       â”‚
â”‚  â””â”€ Business Logic Validation                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RENDER.COM                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Frontend Service (Next.js)                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ Auto-deploy on push                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ CDN distribution                                 â”‚   â”‚
â”‚  â”‚  â””â”€ SSL/TLS encryption                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Backend Service (Express.js)                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ Auto-deploy on push                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ Environment variables                            â”‚   â”‚
â”‚  â”‚  â””â”€ SSL/TLS encryption                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Database (PostgreSQL)                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ Automated backups                                â”‚   â”‚
â”‚  â”‚  â”œâ”€ Point-in-time recovery                           â”‚   â”‚
â”‚  â”‚  â””â”€ SSL/TLS encryption                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Architecture Version:** 1.0  
**Last Updated:** October 16, 2025  
**Status:** Production-Ready (with Phase 1 fixes)

